# Story 6.3: README Requirements and Troubleshooting Sections

## Status

Ready for Review

## Story

**As a** user evaluating or installing WriteScore,
**I want** clear system requirements and troubleshooting guidance,
**so that** I can verify my system is compatible and resolve common issues without external help.

## Acceptance Criteria

### System Requirements Section

1. README includes "Requirements" section after Quick Start
2. Requirements table shows Python version, RAM, and disk space
3. Note about first-run model downloads included

### Troubleshooting Section

4. README includes "Troubleshooting" section
5. Sections ordered by frequency: Slow First Run → Out of Memory → Command/Module Not Found → Model Issues
6. Documents slow first run (model downloads ~500MB) first as most common
7. Documents out of memory solutions (--mode fast, macOS MPS fix)
8. Documents "ModuleNotFoundError" and "command not found" with diagnostic flow table
9. Documents venv activation issues (new session, wrong venv)
10. Documents devcontainer/codespaces → native terminal issue
11. Documents spaCy model missing fix with exact error message
12. Documents NLTK data missing fix

## Tasks / Subtasks

- [x] **Task 1: Add Requirements section** (AC: 1, 2, 3)
  - [x] Add "Requirements" section after Quick Start
  - [x] Add requirements table (Python, RAM, Disk)
  - [x] Add note about first-run downloads

- [x] **Task 2: Add Troubleshooting section** (AC: 4-12)
  - [x] Add "Troubleshooting" section before Documentation
  - [x] Add "Slow First Run" subsection first (most common issue)
  - [x] Add "Out of Memory" subsection with --mode fast and MPS fix
  - [x] Add "ModuleNotFoundError / Command Not Found" subsection with diagnostic table
  - [x] Add diagnostic commands for finding install location
  - [x] Add "Can't find model 'en_core_web_sm'" subsection (exact error message)
  - [x] Add "NLTK Data Missing" subsection

## Dependencies

**Depends On:**
- Story 6.1 (Quick Start must be fixed first)
- Story 6.2 (troubleshooting references `just install` command)

**Blocks:** None

**Can Run In Parallel With:** Story 6.7 (both depend on 6.2, no interdependency)

---

## Dev Notes

### Requirements Section Content

Add after Quick Start section:

```markdown
## Requirements

| Resource | Minimum | Recommended |
|----------|---------|-------------|
| Python | 3.9 | 3.11+ |
| RAM | 4 GB | 8 GB |
| Disk | 2 GB | 3 GB |

**Note:** First run downloads transformer models (~500MB) and spaCy model (~50MB). Subsequent runs use cached models.
```

### Troubleshooting Section Content

Add before Documentation section:

```markdown
## Troubleshooting

### Slow First Run

**This is normal.** First analysis downloads transformer models (~500MB) and caches them. Subsequent runs are much faster.

### Out of Memory

**Quick fix:** Use `--mode fast` for lower memory usage:

```bash
writescore analyze document.md --mode fast
```

On macOS Apple Silicon, if you see MPS memory errors:

```bash
export PYTORCH_MPS_HIGH_WATERMARK_RATIO=0.0
writescore analyze document.md
```

### ModuleNotFoundError / Command Not Found

**Quick fix:** `source .venv/bin/activate` (Windows: `.venv\Scripts\activate`)

**Diagnostic table:**

| Where did you install? | Current terminal | Fix |
|------------------------|------------------|-----|
| venv (`.venv/`) | venv not activated | `source .venv/bin/activate` |
| venv (`.venv/`) | Different venv activated | Activate correct venv or reinstall |
| Devcontainer | Native terminal | Run inside container or install natively |
| Codespaces | Local terminal | Install natively |
| Unknown | — | Run diagnostic commands below |

**Diagnostic commands:**

```bash
# Check if writescore is anywhere in PATH
which writescore

# Check if installed in current venv
pip show writescore

# Check common venv locations
ls -la .venv/bin/writescore 2>/dev/null || echo "Not in .venv"
ls -la venv/bin/writescore 2>/dev/null || echo "Not in venv"
```

**Common fixes:**

```bash
# Activate venv (if installed there)
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Run inside devcontainer (if installed there)
devcontainer exec --workspace-folder "$(pwd)" writescore analyze README.md

# Or reinstall natively
just install  # or: pip install -e . && python -m spacy download en_core_web_sm
```

### Can't find model 'en_core_web_sm'

```bash
python -m spacy download en_core_web_sm
```

### NLTK Data Missing

If you see `LookupError` mentioning NLTK data:

```bash
python -c "import nltk; nltk.download('punkt'); nltk.download('averaged_perceptron_tagger')"
```
```

### Files to Modify

| File | Change |
|------|--------|
| `README.md` | Add Requirements section after Quick Start |
| `README.md` | Add Troubleshooting section before Documentation |

### Testing

**Testing Standards:**
- No automated tests needed (documentation only)
- Manual verification:

| Check | Method |
|-------|--------|
| Requirements section renders | View README on GitHub |
| Troubleshooting section renders | View README on GitHub |
| Diagnostic table renders correctly | View README on GitHub |
| Code blocks have syntax highlighting | View README on GitHub |
| All commands are copy-pasteable | Test each command |

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-06 | 1.0 | Initial story creation | PM Agent (John) |

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20250929)

### Debug Log References

None - documentation-only changes

### Completion Notes List

- Added Requirements section after Quick Start with Python, RAM, and Disk requirements table
- Added note about first-run model downloads (~500MB transformer + ~50MB spaCy)
- Added Troubleshooting section before Documentation with subsections:
  - Slow First Run (most common - model downloads are normal)
  - Out of Memory (--mode fast, macOS MPS fix)
  - ModuleNotFoundError / Command Not Found (with diagnostic table and commands)
  - Can't find model 'en_core_web_sm' (spaCy download fix)
  - NLTK Data Missing (nltk.download commands)
- Troubleshooting section includes diagnostic table for install location issues
- Windows instructions noted where applicable

### File List

| File | Action |
|------|--------|
| `README.md` | Modified - added Requirements and Troubleshooting sections |

## QA Results

### Review Date: 2025-12-06

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

Documentation changes are comprehensive and user-focused. Requirements section provides clear minimum/recommended specs. Troubleshooting section is well-ordered by frequency (Slow First Run first as specified). Diagnostic table for ModuleNotFoundError is particularly helpful for debugging install location issues.

### Refactoring Performed

None required - documentation-only changes.

### Compliance Check

- Coding Standards: ✓ N/A (documentation only)
- Project Structure: ✓ README sections follow logical flow
- Testing Strategy: ✓ Manual verification appropriate for docs
- All ACs Met: ✓ All 12 acceptance criteria verified in README

### Improvements Checklist

- [x] Requirements section with Python, RAM, Disk table
- [x] First-run model download note included
- [x] Troubleshooting section with correct ordering
- [x] Slow First Run documented first (most common)
- [x] Out of Memory with --mode fast and MPS fix
- [x] ModuleNotFoundError with diagnostic table
- [x] spaCy model missing fix with exact error message
- [x] NLTK data missing fix

### Security Review

No security concerns - documentation only.

### Performance Considerations

Documentation correctly advises `--mode fast` for memory-constrained systems.

### Files Modified During Review

None - no modifications needed.

### Gate Status

Gate: PASS → docs/qa/gates/6.3-readme-requirements-troubleshooting.yml

### Recommended Status

✓ Ready for Done
